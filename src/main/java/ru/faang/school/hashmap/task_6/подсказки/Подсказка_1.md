Методы HashMap уже делают за нас половину работы в этой задаче. Нужно просто обернуть их в наши собственные методы.